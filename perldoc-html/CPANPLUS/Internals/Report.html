<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>CPANPLUS::Internals::Report - perldoc.perl.org</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Language" content="en-gb" />
  <link href="../../css.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen" />
  <link rel="search" type="application/opensearchdescription+xml" title="Perldoc" href="../../opensearch.html">
</head>

<script language="JavaScript" type="text/javascript" src="../../label.js"></script>

<script language="JavaScript">
  pageDepth = 2;
  setPath();
</script>

<body onLoad="showToolbars();loadLabels()">

<div id="pageHeader">
  <div id="pageHeaderLogo">
    <img src="../../onion.gif">
  </div>
  <div id="pageHeaderText">
    <a href="http://perldoc.perl.org">perldoc.perl.org</a>
  </div>
</div>

<div id="pageBody">
  <div id="left">
    <div id="leftContent">
      <div id="leftClose">
        <a href="#" onClick="closeLeft()" title="Hide navigation" onmouseover="leftCloseIcon.src='../../close_purple.gif';" onmouseout="leftCloseIcon.src='../../close_blue.gif';"><img src="../../close_blue.gif" name="leftCloseIcon" id="leftCloseIcon" border=0></a>
      </div>
      <h1>Manual:</h1>
      <ul>
        <li><a href="../../index-overview.html">Overview</a></li>
        <li><a href="../../index-tutorials.html">Tutorials</a></li>
        <li><a href="../../index-faq.html">FAQs</a></li>
        <li><a href="../../index-history.html">History / Changes</a></li>
        <li><a href="../../index-licence.html">Licence</a></li>
      </ul>
      <h2>Reference:</h2>
      <ul>
        <li><a href="../../index-language.html">Language</a></li>
        <li><a href="../../index-functions.html">Functions</a></li>
        <li><a href="../../perlop.html">Operators</a></li>
        <li><a href="../../perlvar.html">Special variables</a></li>
        <li><a href="../../index-pragmas.html">Pragmas</a></li>
        <li><a href="../../index-modules-A.html">Core modules</a></li>
        <li><a href="../../index-utilities.html">Utilities</a></li>
        <li><a href="../../index-internals.html">Internals</a></li>
        <li><a href="../../index-platforms.html">Platform specific</a></li>
      </ul>
    </div>
  </div>

  <div id="center">  
    <div id="centerContent">
      <div id="contentHeader">
        <div id="contentHeaderLeft"><a href="#" onClick="showLeft()">Show navigation</a></div>
        <div id="contentHeaderCentre">-- Perl 5.10.0 documentation --</div>
        <div id="contentHeaderRight"><a href="#" onClick="showRight()">Show toolbar</a></div>
      </div>
      <div id="breadCrumbs"><a href="../../index.html">Home</a> &gt; <a href="../../index-modules-A.html">Core modules</a> &gt; <a href="../../index-modules-C.html">C</a> &gt; CPANPLUS::Internals::Report</div>
      <script language="JavaScript">fromSearch();</script>
      <div id="contentBody"><div class="title_container"><div class="page_title">CPANPLUS::Internals::Report</div><ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#METHODS">METHODS</a><ul><li><a href="#0x24bool-0x3d-0x24cb-0x3e_have_query_report_modules">$bool = $cb-&gt;_have_query_report_modules</a><li><a href="#0x24bool-0x3d-0x24cb-0x3e_have_send_report_modules">$bool = $cb-&gt;_have_send_report_modules</a><li><a href="#0x40list-0x3d-0x24cb-0x3e_query_report(-module-0x3d0x3e-0x24modobj0x2c-0x5ball_versions-0x3d0x3e-BOOL0x2c-verbose-0x3d0x3e-BOOL0x5d-)">@list = $cb-&gt;_query_report( module =&gt; $modobj, [all_versions =&gt; BOOL, verbose =&gt; BOOL] )</a><li><a href="#0x24bool-0x3d-0x24cb-0x3e_send_report(-module-0x3d0x3e-0x24modobj0x2c-buffer-0x3d0x3e-0x24make_output0x2c-failed-0x3d0x3e-BOOL0x2c-0x5bsave-0x3d0x3e-BOOL0x2c-address-0x3d0x3e-0x24email_to0x2c-dontcc-0x3d0x3e-BOOL0x2c-verbose-0x3d0x3e-BOOL0x2c-force-0x3d0x3e-BOOL0x5d)0x3b">$bool = $cb-&gt;_send_report( module =&gt; $modobj, buffer =&gt; $make_output, failed =&gt; BOOL, [save =&gt; BOOL, address =&gt; $email_to, dontcc =&gt; BOOL, verbose =&gt; BOOL, force =&gt; BOOL]);</a></ul></ul><a name="NAME"></a><h1>NAME</h1>
<p>CPANPLUS::Internals::Report</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim">  <span class="c">### enable test reporting</span>
  <span class="i">$cb</span><span class="i">-&gt;configure_object</span><span class="i">-&gt;set_conf</span><span class="s">(</span> <span class="w">cpantest</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="sc">;</span></pre>
<pre class="verbatim">  <span class="c">### set custom mx host, shouldn't normally be needed</span>
  <span class="i">$cb</span><span class="i">-&gt;configure_object</span><span class="i">-&gt;set_conf</span><span class="s">(</span> <span class="w">cpantest_mx</span> <span class="cm">=&gt;</span> <span class="q">'smtp.example.com'</span> <span class="s">)</span><span class="sc">;</span></pre>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>This module provides all the functionality to send test reports to
<code class="inline">&lt;a href="http://testers.cpan.org"&gt;http://testers.cpan.org&lt;/a&gt;</code> using the <code class="inline"><span class="w">Test::Reporter</span></code>
 module.</p>
<p>All methods will be called automatically if you have <code class="inline"><span class="w">CPANPLUS</span></code>

configured to enable test reporting (see the <code class="inline"><span class="w">SYNOPSIS</span></code>
).</p>
<a name="METHODS"></a><h1>METHODS</h1>
<a name="0x24bool-0x3d-0x24cb-0x3e_have_query_report_modules"></a><h2>$bool = $cb-&gt;_have_query_report_modules</h2>
<p>This function checks if all the required modules are here for querying
reports. It returns true and loads them if they are, or returns false
otherwise.</p>
<a name="0x24bool-0x3d-0x24cb-0x3e_have_send_report_modules"></a><h2>$bool = $cb-&gt;_have_send_report_modules</h2>
<p>This function checks if all the required modules are here for sending
reports. It returns true and loads them if they are, or returns false
otherwise.</p>
<a name="0x40list-0x3d-0x24cb-0x3e_query_report(-module-0x3d0x3e-0x24modobj0x2c-0x5ball_versions-0x3d0x3e-BOOL0x2c-verbose-0x3d0x3e-BOOL0x5d-)"></a><h2>@list = $cb-&gt;_query_report( module =&gt; $modobj, [all_versions =&gt; BOOL, verbose =&gt; BOOL] )</h2>
<p>This function queries the CPAN testers database at
<i><a href="http://testers.cpan.org/">http://testers.cpan.org/</a></i> for test results of specified module objects,
module names or distributions.</p>
<p>The optional argument <code class="inline"><span class="w">all_versions</span></code>
 controls whether all versions of
a given distribution should be grabbed.  It defaults to false
(fetching only reports for the current version).</p>
<p>Returns the a list with the following data structures (for CPANPLUS
version 0.042) on success, or false on failure:</p>
<pre class="verbatim">          <span class="s">{</span>
            <span class="q">'grade'</span> <span class="cm">=&gt;</span> <span class="q">'PASS'</span><span class="cm">,</span>
            <span class="q">'dist'</span> <span class="cm">=&gt;</span> <span class="q">'CPANPLUS-0.042'</span><span class="cm">,</span>
            <span class="q">'platform'</span> <span class="cm">=&gt;</span> <span class="q">'i686-pld-linux-thread-multi'</span>
          <span class="s">}</span><span class="cm">,</span>
          <span class="s">{</span>
            <span class="q">'grade'</span> <span class="cm">=&gt;</span> <span class="q">'PASS'</span><span class="cm">,</span>
            <span class="q">'dist'</span> <span class="cm">=&gt;</span> <span class="q">'CPANPLUS-0.042'</span><span class="cm">,</span>
            <span class="q">'platform'</span> <span class="cm">=&gt;</span> <span class="q">'i686-linux-thread-multi'</span>
          <span class="s">}</span><span class="cm">,</span>
          <span class="s">{</span>
            <span class="q">'grade'</span> <span class="cm">=&gt;</span> <span class="q">'FAIL'</span><span class="cm">,</span>
            <span class="q">'dist'</span> <span class="cm">=&gt;</span> <span class="q">'CPANPLUS-0.042'</span><span class="cm">,</span>
            <span class="q">'platform'</span> <span class="cm">=&gt;</span> <span class="q">'cygwin-multi-64int'</span><span class="cm">,</span>
            <span class="q">'details'</span> <span class="cm">=&gt;</span> <span class="q">'<a href="http://nntp.x.perl.org/group/perl.cpan.testers/99371">http://nntp.x.perl.org/group/perl.cpan.testers/99371</a>'</span>
          <span class="s">}</span><span class="cm">,</span>
          <span class="s">{</span>
            <span class="q">'grade'</span> <span class="cm">=&gt;</span> <span class="q">'FAIL'</span><span class="cm">,</span>
            <span class="q">'dist'</span> <span class="cm">=&gt;</span> <span class="q">'CPANPLUS-0.042'</span><span class="cm">,</span>
            <span class="q">'platform'</span> <span class="cm">=&gt;</span> <span class="q">'i586-linux'</span><span class="cm">,</span>
            <span class="q">'details'</span> <span class="cm">=&gt;</span> <span class="q">'<a href="http://nntp.x.perl.org/group/perl.cpan.testers/99396">http://nntp.x.perl.org/group/perl.cpan.testers/99396</a>'</span>
          <span class="s">}</span><span class="cm">,</span></pre>
<p>The status of the test can be one of the following:
UNKNOWN, PASS, FAIL or NA (not applicable).</p>
<a name="0x24bool-0x3d-0x24cb-0x3e_send_report(-module-0x3d0x3e-0x24modobj0x2c-buffer-0x3d0x3e-0x24make_output0x2c-failed-0x3d0x3e-BOOL0x2c-0x5bsave-0x3d0x3e-BOOL0x2c-address-0x3d0x3e-0x24email_to0x2c-dontcc-0x3d0x3e-BOOL0x2c-verbose-0x3d0x3e-BOOL0x2c-force-0x3d0x3e-BOOL0x5d)0x3b"></a><h2>$bool = $cb-&gt;_send_report( module =&gt; $modobj, buffer =&gt; $make_output, failed =&gt; BOOL, [save =&gt; BOOL, address =&gt; $email_to, dontcc =&gt; BOOL, verbose =&gt; BOOL, force =&gt; BOOL]);</h2>
<p>This function sends a testers report to <code class="inline"><span class="w">cpan</span>-<span class="w">testers</span><span class="i">@perl</span>.<span class="w">org</span></code>
 for a
particular distribution.
It returns true on success, and false on failure.</p>
<p>It takes the following options:</p>
<ul>
<li><a name="module"></a><b>module</b>
<p>The module object of this particular distribution</p>
</li>
<li><a name="buffer"></a><b>buffer</b>
<p>The output buffer from the 'make/make test' process</p>
</li>
<li><a name="failed"></a><b>failed</b>
<p>Boolean indicating if the 'make/make test' went wrong</p>
</li>
<li><a name="save"></a><b>save</b>
<p>Boolean indicating if the report should be saved locally instead of
mailed out. If provided, this function will return the location the
report was saved to, rather than a simple boolean 'TRUE'.</p>
<p>Defaults to false.</p>
</li>
<li><a name="address"></a><b>address</b>
<p>The email address to mail the report for. You should never need to
override this, but it might be useful for debugging purposes.</p>
<p>Defaults to <code class="inline"><span class="w">cpan</span>-<span class="w">testers</span><span class="i">@perl</span>.<span class="w">org</span></code>
.</p>
</li>
<li><a name="dontcc"></a><b>dontcc</b>
<p>Boolean indicating whether or not we should Cc: the author. If false,
previous error reports are inspected and checked if the author should
be mailed. If set to true, these tests are skipped and the author is
definitely not Cc:'d.
You should probably not change this setting.</p>
<p>Defaults to false.</p>
</li>
<li><a name="verbose"></a><b>verbose</b>
<p>Boolean indicating on whether or not to be verbose.</p>
<p>Defaults to your configuration settings</p>
</li>
<li><a name="force"></a><b>force</b>
<p>Boolean indicating whether to force the sending, even if the max
amount of reports for fails have already been reached, or if you
may already have sent it before.</p>
<p>Defaults to your configuration settings</p>
</li>
</ul>
</div>
      <div id="contentFooter"><a href="http://www.perl.org"><img src="../../perlpowered.png" border=0></a></div>
    </div>
  </div>

  <div id="right">
    <div id="rightContent">
      <div id="leftClose">
        <a href="#" onClick="closeRight()" title="Hide toolbar" onmouseover="rightCloseIcon.src='../../close_purple.gif';" onmouseout="rightCloseIcon.src='../../close_blue.gif';"><img src="../../close_blue.gif" name="rightCloseIcon" id="rightCloseIcon" border=0></a>
      </div>
      <h1>Search:</h1>
      <p>
        <form action="../../search.html" name="perldoc_search">
	  <input type="text" name="q" size="10" class="grey"><br>
	  <!--<select name="r"><option value="1" selected>Go to top result<option value="0">Show results list</select>-->
	</form>
      </p>
      <script language="JavaScript" type="text/javascript" src="/perl-version.js"></script>
      <h2>Labels:</h2>
      <p>
        <a href="#" onClick="addLabel('CPANPLUS::Internals::Report','CPANPLUS/Internals/Report.html')">Add this page</a>
      </p>
      <div class="labels" id="labels">
      </div>
    </div>
  </div>

</div>


</body>
</html>
