<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>File::Path - perldoc.perl.org</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Language" content="en-gb" />
  <link href="../css.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen" />
  <link rel="search" type="application/opensearchdescription+xml" title="Perldoc" href="../opensearch.html">
</head>

<script language="JavaScript" type="text/javascript" src="../label.js"></script>

<script language="JavaScript">
  pageDepth = 1;
  setPath();
</script>

<body onLoad="showToolbars();loadLabels()">

<div id="pageHeader">
  <div id="pageHeaderLogo">
    <img src="../onion.gif">
  </div>
  <div id="pageHeaderText">
    <a href="http://perldoc.perl.org">perldoc.perl.org</a>
  </div>
</div>

<div id="pageBody">
  <div id="left">
    <div id="leftContent">
      <div id="leftClose">
        <a href="#" onClick="closeLeft()" title="Hide navigation" onmouseover="leftCloseIcon.src='../close_purple.gif';" onmouseout="leftCloseIcon.src='../close_blue.gif';"><img src="../close_blue.gif" name="leftCloseIcon" id="leftCloseIcon" border=0></a>
      </div>
      <h1>Manual:</h1>
      <ul>
        <li><a href="../index-overview.html">Overview</a></li>
        <li><a href="../index-tutorials.html">Tutorials</a></li>
        <li><a href="../index-faq.html">FAQs</a></li>
        <li><a href="../index-history.html">History / Changes</a></li>
        <li><a href="../index-licence.html">Licence</a></li>
      </ul>
      <h2>Reference:</h2>
      <ul>
        <li><a href="../index-language.html">Language</a></li>
        <li><a href="../index-functions.html">Functions</a></li>
        <li><a href="../perlop.html">Operators</a></li>
        <li><a href="../perlvar.html">Special variables</a></li>
        <li><a href="../index-pragmas.html">Pragmas</a></li>
        <li><a href="../index-modules-A.html">Core modules</a></li>
        <li><a href="../index-utilities.html">Utilities</a></li>
        <li><a href="../index-internals.html">Internals</a></li>
        <li><a href="../index-platforms.html">Platform specific</a></li>
      </ul>
    </div>
  </div>

  <div id="center">  
    <div id="centerContent">
      <div id="contentHeader">
        <div id="contentHeaderLeft"><a href="#" onClick="showLeft()">Show navigation</a></div>
        <div id="contentHeaderCentre">-- Perl 5.10.0 documentation --</div>
        <div id="contentHeaderRight"><a href="#" onClick="showRight()">Show toolbar</a></div>
      </div>
      <div id="breadCrumbs"><a href="../index.html">Home</a> &gt; <a href="../index-modules-A.html">Core modules</a> &gt; <a href="../index-modules-F.html">F</a> &gt; File::Path</div>
      <script language="JavaScript">fromSearch();</script>
      <div id="contentBody"><div class="title_container"><div class="page_title">File::Path</div><ul><li><a href="#NAME">NAME</a><li><a href="#VERSION">VERSION</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#FUNCTIONS">FUNCTIONS</a><li><a href="#TRADITIONAL-INTERFACE">TRADITIONAL INTERFACE</a><li><a href="#ERROR-HANDLING">ERROR HANDLING</a><li><a href="#NOTES">NOTES</a></ul><li><a href="#DIAGNOSTICS">DIAGNOSTICS</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#BUGS">BUGS</a><li><a href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a><li><a href="#AUTHORS">AUTHORS</a><li><a href="#COPYRIGHT">COPYRIGHT</a><li><a href="#LICENSE">LICENSE</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>File::Path - Create or remove directory trees</p>
<a name="VERSION"></a><h1>VERSION</h1>
<p>This document describes version 2.04 of File::Path, released
2007-11-13.</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim">    <a class="l_k" href="../functions/use.html">use</a> <span class="w">File::Path</span><span class="sc">;</span></pre>
<pre class="verbatim">    <span class="c"># modern</span>
    <span class="i">mkpath</span><span class="s">(</span> <span class="q">'foo/bar/baz'</span><span class="cm">,</span> <span class="q">'/zug/zwang'</span><span class="cm">,</span> <span class="s">{</span><span class="w">verbose</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="s">}</span> <span class="s">)</span><span class="sc">;</span></pre>
<pre class="verbatim">    <span class="i">rmtree</span><span class="s">(</span>
        <span class="q">'foo/bar/baz'</span><span class="cm">,</span> <span class="q">'/zug/zwang'</span><span class="cm">,</span>
        <span class="s">{</span> <span class="w">verbose</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="cm">,</span> <span class="w">error</span>  <span class="cm">=&gt;</span> \<a class="l_k" href="../functions/my.html">my</a> <span class="i">$err_list</span> <span class="s">}</span>
    <span class="s">)</span><span class="sc">;</span></pre>
<pre class="verbatim">    <span class="c"># traditional</span>
    <span class="i">mkpath</span><span class="s">(</span><span class="s">[</span><span class="q">'/foo/bar/baz'</span><span class="cm">,</span> <span class="q">'blurfl/quux'</span><span class="s">]</span><span class="cm">,</span> <span class="n">1</span><span class="cm">,</span> <span class="n">0711</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">rmtree</span><span class="s">(</span><span class="s">[</span><span class="q">'foo/bar/baz'</span><span class="cm">,</span> <span class="q">'blurfl/quux'</span><span class="s">]</span><span class="cm">,</span> <span class="n">1</span><span class="cm">,</span> <span class="n">1</span><span class="s">)</span><span class="sc">;</span></pre>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>The <code class="inline"><span class="w">mkpath</span></code>
 function provides a convenient way to create directories
of arbitrary depth. Similarly, the <code class="inline"><span class="w">rmtree</span></code>
 function provides a
convenient way to delete an entire directory subtree from the
filesystem, much like the Unix command <code class="inline"><span class="w">rm</span> -r</code>
.</p>
<p>Both functions may be called in one of two ways, the traditional,
compatible with code written since the dawn of time, and modern,
that offers a more flexible and readable idiom. New code should use
the modern interface.</p>
<a name="FUNCTIONS"></a><h2>FUNCTIONS</h2>
<p>The modern way of calling <code class="inline"><span class="w">mkpath</span></code>
 and <code class="inline"><span class="w">rmtree</span></code>
 is with a list
of directories to create, or remove, respectively, followed by an
optional hash reference containing keys to control the
function's behaviour.</p>
<h3><code class="inline"><span class="w">mkpath</span></code>
</h3>
<p>The following keys are recognised as parameters to <code class="inline"><span class="w">mkpath</span></code>
.
The function returns the list of files actually created during the
call.</p>
<pre class="verbatim">  <a class="l_k" href="../functions/my.html">my</a> <span class="i">@created</span> = <span class="i">mkpath</span><span class="s">(</span>
    <span class="q">qw(/tmp /flub /home/nobody)</span><span class="cm">,</span>
    <span class="s">{</span><span class="w">verbose</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="cm">,</span> <span class="w">mode</span> <span class="cm">=&gt;</span> <span class="n">0750</span><span class="s">}</span><span class="cm">,</span>
  <span class="s">)</span><span class="sc">;</span>
  <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;created $_\n&quot;</span> for <span class="i">@created</span><span class="sc">;</span></pre>
<ul>
<li><a name="mode"></a><b>mode</b>
<p>The numeric permissions mode to apply to each created directory
(defaults to 0777), to be modified by the current <code class="inline"><a class="l_k" href="../functions/umask.html">umask</a></code>. If the
directory already exists (and thus does not need to be created),
the permissions will not be modified.</p>
<p><code class="inline"><span class="w">mask</span></code>
 is recognised as an alias for this parameter.</p>
</li>
<li><a name="verbose"></a><b>verbose</b>
<p>If present, will cause <code class="inline"><span class="w">mkpath</span></code>
 to print the name of each directory
as it is created. By default nothing is printed.</p>
</li>
<li><a name="error"></a><b>error</b>
<p>If present, will be interpreted as a reference to a list, and will
be used to store any errors that are encountered.  See the ERROR
HANDLING section for more information.</p>
<p>If this parameter is not used, certain error conditions may raise
a fatal error that will cause the program will halt, unless trapped
in an <code class="inline"><a class="l_k" href="../functions/eval.html">eval</a></code> block.</p>
</li>
</ul>
<h3><code class="inline"><span class="w">rmtree</span></code>
</h3>
<ul>
<li><a name="verbose"></a><b>verbose</b>
<p>If present, will cause <code class="inline"><span class="w">rmtree</span></code>
 to print the name of each file as
it is unlinked. By default nothing is printed.</p>
</li>
<li><a name="safe"></a><b>safe</b>
<p>When set to a true value, will cause <code class="inline"><span class="w">rmtree</span></code>
 to skip the files
for which the process lacks the required privileges needed to delete
files, such as delete privileges on VMS. In other words, the code
will make no attempt to alter file permissions. Thus, if the process
is interrupted, no filesystem object will be left in a more
permissive mode.</p>
</li>
<li><a name="keep_root"></a><b>keep_root</b>
<p>When set to a true value, will cause all files and subdirectories
to be removed, except the initially specified directories. This comes
in handy when cleaning out an application's scratch directory.</p>
<pre class="verbatim">  <span class="i">rmtree</span><span class="s">(</span> <span class="q">'/tmp'</span><span class="cm">,</span> <span class="s">{</span><span class="w">keep_root</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="s">}</span> <span class="s">)</span><span class="sc">;</span></pre>
</li>
<li><a name="result"></a><b>result</b>
<p>If present, will be interpreted as a reference to a list, and will
be used to store the list of all files and directories unlinked
during the call. If nothing is unlinked, a reference to an empty
list is returned (rather than <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code>).</p>
<pre class="verbatim">  <span class="i">rmtree</span><span class="s">(</span> <span class="q">'/tmp'</span><span class="cm">,</span> <span class="s">{</span><span class="w">result</span> <span class="cm">=&gt;</span> \<a class="l_k" href="../functions/my.html">my</a> <span class="i">$list</span><span class="s">}</span> <span class="s">)</span><span class="sc">;</span>
  <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;unlinked $_\n&quot;</span> for <span class="i">@$list</span><span class="sc">;</span></pre>
<p>This is a useful alternative to the <code class="inline"><span class="w">verbose</span></code>
 key.</p>
</li>
<li><a name="error"></a><b>error</b>
<p>If present, will be interpreted as a reference to a list,
and will be used to store any errors that are encountered.
See the ERROR HANDLING section for more information.</p>
<p>Removing things is a much more dangerous proposition than
creating things. As such, there are certain conditions that
<code class="inline"><span class="w">rmtree</span></code>
 may encounter that are so dangerous that the only
sane action left is to kill the program.</p>
<p>Use <code class="inline"><span class="w">error</span></code>
 to trap all that is reasonable (problems with
permissions and the like), and let it die if things get out
of hand. This is the safest course of action.</p>
</li>
</ul>
<a name="TRADITIONAL-INTERFACE"></a><h2>TRADITIONAL INTERFACE</h2>
<p>The old interfaces of <code class="inline"><span class="w">mkpath</span></code>
 and <code class="inline"><span class="w">rmtree</span></code>
 take a reference to
a list of directories (to create or remove), followed by a series
of positional, numeric, modal parameters that control their behaviour.</p>
<p>This design made it difficult to add additional functionality, as
well as posed the problem of what to do when the calling code only
needs to set the last parameter. Even though the code doesn't care
how the initial positional parameters are set, the programmer is
forced to learn what the defaults are, and specify them.</p>
<p>Worse, if it turns out in the future that it would make more sense
to change the default behaviour of the first parameter (for example,
to avoid a security vulnerability), all existing code will remain
hard-wired to the wrong defaults.</p>
<p>Finally, a series of numeric parameters are much less self-documenting
in terms of communicating to the reader what the code is doing. Named
parameters do not have this problem.</p>
<p>In the traditional API, <code class="inline"><span class="w">mkpath</span></code>
 takes three arguments:</p>
<ul>
<li>
<p>The name of the path to create, or a reference to a list of paths
to create,</p>
</li>
<li>
<p>a boolean value, which if TRUE will cause <code class="inline"><span class="w">mkpath</span></code>
 to print the
name of each directory as it is created (defaults to FALSE), and</p>
</li>
<li>
<p>the numeric mode to use when creating the directories (defaults to
0777), to be modified by the current umask.</p>
</li>
</ul>
<p>It returns a list of all directories (including intermediates, determined
using the Unix '/' separator) created.  In scalar context it returns
the number of directories created.</p>
<p>If a system error prevents a directory from being created, then the
<code class="inline"><span class="w">mkpath</span></code>
 function throws a fatal error with <code class="inline"><span class="w">Carp::croak</span></code>
. This error
can be trapped with an <code class="inline"><a class="l_k" href="../functions/eval.html">eval</a></code> block:</p>
<pre class="verbatim">  <a class="l_k" href="../functions/eval.html">eval</a> <span class="s">{</span> <span class="i">mkpath</span><span class="s">(</span><span class="i">$dir</span><span class="s">)</span> <span class="s">}</span><span class="sc">;</span>
  if <span class="s">(</span><span class="i">$@</span><span class="s">)</span> <span class="s">{</span>
    <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;Couldn&#39;t create $dir: $@&quot;</span><span class="sc">;</span>
  <span class="s">}</span></pre>
<p>In the traditional API, <code class="inline"><span class="w">rmtree</span></code>
 takes three arguments:</p>
<ul>
<li>
<p>the root of the subtree to delete, or a reference to a list of
roots. All of the files and directories below each root, as well
as the roots themselves, will be deleted. If you want to keep
the roots themselves, you must use the modern API.</p>
</li>
<li>
<p>a boolean value, which if TRUE will cause <code class="inline"><span class="w">rmtree</span></code>
 to print a
message each time it examines a file, giving the name of the file,
and indicating whether it's using <code class="inline"><a class="l_k" href="../functions/rmdir.html">rmdir</a></code> or <code class="inline"><a class="l_k" href="../functions/unlink.html">unlink</a></code> to remove
it, or that it's skipping it.  (defaults to FALSE)</p>
</li>
<li>
<p>a boolean value, which if TRUE will cause <code class="inline"><span class="w">rmtree</span></code>
 to skip any
files to which you do not have delete access (if running under VMS)
or write access (if running under another OS). This will change
in the future when a criterion for 'delete permission' under OSs
other than VMS is settled.  (defaults to FALSE)</p>
</li>
</ul>
<p>It returns the number of files, directories and symlinks successfully
deleted.  Symlinks are simply deleted and not followed.</p>
<p>Note also that the occurrence of errors in <code class="inline"><span class="w">rmtree</span></code>
 using the
traditional interface can be determined <i>only</i> by trapping diagnostic
messages using <code class="inline"><span class="i">$SIG</span>{<span class="w">__WARN__</span>}</code>
; it is not apparent from the return
value. (The modern interface may use the <code class="inline"><span class="w">error</span></code>
 parameter to
record any problems encountered).</p>
<a name="ERROR-HANDLING"></a><h2>ERROR HANDLING</h2>
<p>If <code class="inline"><span class="w">mkpath</span></code>
 or <code class="inline"><span class="w">rmtree</span></code>
 encounter an error, a diagnostic message
will be printed to <code class="inline"><span class="w">STDERR</span></code>
 via <code class="inline"><span class="w">carp</span></code>
 (for non-fatal errors),
or via <code class="inline"><span class="w">croak</span></code>
 (for fatal errors).</p>
<p>If this behaviour is not desirable, the <code class="inline"><span class="w">error</span></code>
 attribute may be
used to hold a reference to a variable, which will be used to store
the diagnostics. The result is a reference to a list of hash
references. For each hash reference, the key is the name of the
file, and the value is the error message (usually the contents of
<code class="inline"><span class="i">$!</span></code>
). An example usage looks like:</p>
<pre class="verbatim">  <span class="i">rmpath</span><span class="s">(</span> <span class="q">'foo/bar'</span><span class="cm">,</span> <span class="q">'bar/rat'</span><span class="cm">,</span> <span class="s">{</span><span class="w">error</span> <span class="cm">=&gt;</span> \<a class="l_k" href="../functions/my.html">my</a> <span class="i">$err</span><span class="s">}</span> <span class="s">)</span><span class="sc">;</span>
  for <a class="l_k" href="../functions/my.html">my</a> <span class="i">$diag</span> <span class="s">(</span><span class="i">@$err</span><span class="s">)</span> <span class="s">{</span>
    <a class="l_k" href="../functions/my.html">my</a> <span class="s">(</span><span class="i">$file</span><span class="cm">,</span> <span class="i">$message</span><span class="s">)</span> = <a class="l_k" href="../functions/each.html">each</a> <span class="i">%$diag</span><span class="sc">;</span>
    <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;problem unlinking $file: $message\n&quot;</span><span class="sc">;</span>
  <span class="s">}</span></pre>
<p>If no errors are encountered, <code class="inline"><span class="i">$err</span></code>
 will point to an empty list
(thus there is no need to test for <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code>). If a general error
is encountered (for instance, <code class="inline"><span class="w">rmtree</span></code>
 attempts to remove a directory
tree that does not exist), the diagnostic key will be empty, only
the value will be set:</p>
<pre class="verbatim">  <span class="i">rmpath</span><span class="s">(</span> <span class="q">'/no/such/path'</span><span class="cm">,</span> <span class="s">{</span><span class="w">error</span> <span class="cm">=&gt;</span> \<a class="l_k" href="../functions/my.html">my</a> <span class="i">$err</span><span class="s">}</span> <span class="s">)</span><span class="sc">;</span>
  for <a class="l_k" href="../functions/my.html">my</a> <span class="i">$diag</span> <span class="s">(</span><span class="i">@$err</span><span class="s">)</span> <span class="s">{</span>
    <a class="l_k" href="../functions/my.html">my</a> <span class="s">(</span><span class="i">$file</span><span class="cm">,</span> <span class="i">$message</span><span class="s">)</span> = <a class="l_k" href="../functions/each.html">each</a> <span class="i">%$diag</span><span class="sc">;</span>
    if <span class="s">(</span><span class="i">$file</span> eq <span class="q">''</span><span class="s">)</span> <span class="s">{</span>
      <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;general error: $message\n&quot;</span><span class="sc">;</span>
    <span class="s">}</span>
  <span class="s">}</span></pre>
<a name="NOTES"></a><h2>NOTES</h2>
<p><code class="inline"><span class="w">File::Path</span></code>
 blindly exports <code class="inline"><span class="w">mkpath</span></code>
 and <code class="inline"><span class="w">rmtree</span></code>
 into the
current namespace. These days, this is considered bad style, but
to change it now would break too much code. Nonetheless, you are
invited to specify what it is you are expecting to use:</p>
<pre class="verbatim">  <a class="l_k" href="../functions/use.html">use</a> <span class="w">File::Path</span> <span class="q">'rmtree'</span><span class="sc">;</span></pre>
<h3>HEURISTICS</h3>
<p>The functions detect (as far as possible) which way they are being
called and will act appropriately. It is important to remember that
the heuristic for detecting the old style is either the presence
of an array reference, or two or three parameters total and second
and third parameters are numeric. Hence...</p>
<pre class="verbatim">    <span class="w">mkpath</span> <span class="n">486</span><span class="cm">,</span> <span class="n">487</span><span class="cm">,</span> <span class="n">488</span><span class="sc">;</span></pre>
<p>... will not assume the modern style and create three directories, rather
it will create one directory verbosely, setting the permission to
0750 (488 being the decimal equivalent of octal 750). Here, old
style trumps new. It must, for backwards compatibility reasons.</p>
<p>If you want to ensure there is absolutely no ambiguity about which
way the function will behave, make sure the first parameter is a
reference to a one-element list, to force the old style interpretation:</p>
<pre class="verbatim">    <span class="w">mkpath</span> <span class="s">[</span><span class="n">486</span><span class="s">]</span><span class="cm">,</span> <span class="n">487</span><span class="cm">,</span> <span class="n">488</span><span class="sc">;</span></pre>
<p>and get only one directory created. Or add a reference to an empty
parameter hash, to force the new style:</p>
<pre class="verbatim">    <span class="w">mkpath</span> <span class="n">486</span><span class="cm">,</span> <span class="n">487</span><span class="cm">,</span> <span class="n">488</span><span class="cm">,</span> <span class="s">{</span><span class="s">}</span><span class="sc">;</span></pre>
<p>... and hence create the three directories. If the empty hash
reference seems a little strange to your eyes, or you suspect a
subsequent programmer might <i>helpfully</i> optimise it away, you
can add a parameter set to a default value:</p>
<pre class="verbatim">    <span class="w">mkpath</span> <span class="n">486</span><span class="cm">,</span> <span class="n">487</span><span class="cm">,</span> <span class="n">488</span><span class="cm">,</span> <span class="s">{</span><span class="w">verbose</span> <span class="cm">=&gt;</span> <span class="n">0</span><span class="s">}</span><span class="sc">;</span></pre>
<h3>SECURITY CONSIDERATIONS</h3>
<p>There were race conditions 1.x implementations of File::Path's
<code class="inline"><span class="w">rmtree</span></code>
 function (although sometimes patched depending on the OS
distribution or platform). The 2.0 version contains code to avoid the
problem mentioned in CVE-2002-0435.</p>
<p>See the following pages for more information:</p>
<pre class="verbatim">  http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=286905
  http://www.nntp.perl.org/group/perl.perl5.porters/2005/01/msg97623.html
  http://www.debian.org/security/2005/dsa-696</pre><p>Additionally, unless the <code class="inline"><span class="w">safe</span></code>
 parameter is set (or the
third parameter in the traditional interface is TRUE), should a
<code class="inline"><span class="w">rmtree</span></code>
 be interrupted, files that were originally in read-only
mode may now have their permissions set to a read-write (or "delete
OK") mode.</p>
<a name="DIAGNOSTICS"></a><h1>DIAGNOSTICS</h1>
<p>FATAL errors will cause the program to halt (<code class="inline"><span class="w">croak</span></code>
), since the
problem is so severe that it would be dangerous to continue. (This
can always be trapped with <code class="inline"><a class="l_k" href="../functions/eval.html">eval</a></code>, but it's not a good idea. Under
the circumstances, dying is the best thing to do).</p>
<p>SEVERE errors may be trapped using the modern interface. If the
they are not trapped, or the old interface is used, such an error
will cause the program will halt.</p>
<p>All other errors may be trapped using the modern interface, otherwise
they will be <code class="inline"><span class="w">carp</span></code>
ed about. Program execution will not be halted.</p>
<ul>
<li><a name="mkdir-0x5bpath0x5d0x3a-0x5berrmsg0x5d-(SEVERE)"></a><b>mkdir [path]: [errmsg] (SEVERE)</b>
<p><code class="inline"><span class="w">mkpath</span></code>
 was unable to create the path. Probably some sort of
permissions error at the point of departure, or insufficient resources
(such as free inodes on Unix).</p>
</li>
<li><a name="No-root-path(s)-specified"></a><b>No root path(s) specified</b>
<p><code class="inline"><span class="w">mkpath</span></code>
 was not given any paths to create. This message is only
emitted if the routine is called with the traditional interface.
The modern interface will remain silent if given nothing to do.</p>
</li>
<li><a name="No-such-file-or-directory"></a><b>No such file or directory</b>
<p>On Windows, if <code class="inline"><span class="w">mkpath</span></code>
 gives you this warning, it may mean that
you have exceeded your filesystem's maximum path length.</p>
</li>
<li><a name="cannot-fetch-initial-working-directory0x3a-0x5berrmsg0x5d"></a><b>cannot fetch initial working directory: [errmsg]</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 attempted to determine the initial directory by calling
<code class="inline"><span class="w">Cwd::getcwd</span></code>
, but the call failed for some reason. No attempt
will be made to delete anything.</p>
</li>
<li><a name="cannot-stat-initial-working-directory0x3a-0x5berrmsg0x5d"></a><b>cannot stat initial working directory: [errmsg]</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 attempted to stat the initial directory (after having
successfully obtained its name via <code class="inline"><span class="w">getcwd</span></code>
), however, the call
failed for some reason. No attempt will be made to delete anything.</p>
</li>
<li><a name="cannot-chdir-to-0x5bdir0x5d0x3a-0x5berrmsg0x5d"></a><b>cannot chdir to [dir]: [errmsg]</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 attempted to set the working directory in order to
begin deleting the objects therein, but was unsuccessful. This is
usually a permissions issue. The routine will continue to delete
other things, but this directory will be left intact.</p>
</li>
<li><a name="directory-0x5bdir0x5d-changed-before-chdir0x2c-expected-dev0x3d0x5bn0x5d-inode0x3d0x5bn0x5d0x2c-actual-dev0x3d0x5bn0x5d-ino0x3d0x5bn0x5d0x2c-aborting.-(FATAL)"></a><b>directory [dir] changed before chdir, expected dev=[n] inode=[n], actual dev=[n] ino=[n], aborting. (FATAL)</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 recorded the device and inode of a directory, and then
moved into it. It then performed a <code class="inline"><a class="l_k" href="../functions/stat.html">stat</a></code> on the current directory
and detected that the device and inode were no longer the same. As
this is at the heart of the race condition problem, the program
will die at this point.</p>
</li>
<li><a name="cannot-make-directory-0x5bdir0x5d-read0x2bwriteable0x3a-0x5berrmsg0x5d"></a><b>cannot make directory [dir] read+writeable: [errmsg]</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 attempted to change the permissions on the current directory
to ensure that subsequent unlinkings would not run into problems,
but was unable to do so. The permissions remain as they were, and
the program will carry on, doing the best it can.</p>
</li>
<li><a name="cannot-read-0x5bdir0x5d0x3a-0x5berrmsg0x5d"></a><b>cannot read [dir]: [errmsg]</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 tried to read the contents of the directory in order
to acquire the names of the directory entries to be unlinked, but
was unsuccessful. This is usually a permissions issue. The
program will continue, but the files in this directory will remain
after the call.</p>
</li>
<li><a name="cannot-reset-chmod-0x5bdir0x5d0x3a-0x5berrmsg0x5d"></a><b>cannot reset chmod [dir]: [errmsg]</b>
<p><code class="inline"><span class="w">rmtree</span></code>
, after having deleted everything in a directory, attempted
to restore its permissions to the original state but failed. The
directory may wind up being left behind.</p>
</li>
<li><a name="cannot-chdir-to-0x5bparent-dir0x5d-from-0x5bchild-dir0x5d0x3a-0x5berrmsg0x5d0x2c-aborting.-(FATAL)"></a><b>cannot chdir to [parent-dir] from [child-dir]: [errmsg], aborting. (FATAL)</b>
<p><code class="inline"><span class="w">rmtree</span></code>
, after having deleted everything and restored the permissions
of a directory, was unable to chdir back to the parent. This is usually
a sign that something evil this way comes.</p>
</li>
<li><a name="cannot-stat-prior-working-directory-0x5bdir0x5d0x3a-0x5berrmsg0x5d0x2c-aborting.-(FATAL)"></a><b>cannot stat prior working directory [dir]: [errmsg], aborting. (FATAL)</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 was unable to stat the parent directory after have returned
from the child. Since there is no way of knowing if we returned to
where we think we should be (by comparing device and inode) the only
way out is to <code class="inline"><span class="w">croak</span></code>
.</p>
</li>
<li><a name="previous-directory-0x5bparent-dir0x5d-changed-before-entering-0x5bchild-dir0x5d0x2c-expected-dev0x3d0x5bn0x5d-inode0x3d0x5bn0x5d0x2c-actual-dev0x3d0x5bn0x5d-ino0x3d0x5bn0x5d0x2c-aborting.-(FATAL)"></a><b>previous directory [parent-dir] changed before entering [child-dir], expected dev=[n] inode=[n], actual dev=[n] ino=[n], aborting. (FATAL)</b>
<p>When <code class="inline"><span class="w">rmtree</span></code>
 returned from deleting files in a child directory, a
check revealed that the parent directory it returned to wasn't the one
it started out from. This is considered a sign of malicious activity.</p>
</li>
<li><a name="cannot-make-directory-0x5bdir0x5d-writeable0x3a-0x5berrmsg0x5d"></a><b>cannot make directory [dir] writeable: [errmsg]</b>
<p>Just before removing a directory (after having successfully removed
everything it contained), <code class="inline"><span class="w">rmtree</span></code>
 attempted to set the permissions
on the directory to ensure it could be removed and failed. Program
execution continues, but the directory may possibly not be deleted.</p>
</li>
<li><a name="cannot-remove-directory-0x5bdir0x5d0x3a-0x5berrmsg0x5d"></a><b>cannot remove directory [dir]: [errmsg]</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 attempted to remove a directory, but failed. This may because
some objects that were unable to be removed remain in the directory, or
a permissions issue. The directory will be left behind.</p>
</li>
<li><a name="cannot-restore-permissions-of-0x5bdir0x5d-to-0x5b0nnn0x5d0x3a-0x5berrmsg0x5d"></a><b>cannot restore permissions of [dir] to [0nnn]: [errmsg]</b>
<p>After having failed to remove a directory, <code class="inline"><span class="w">rmtree</span></code>
 was unable to
restore its permissions from a permissive state back to a possibly
more restrictive setting. (Permissions given in octal).</p>
</li>
<li><a name="cannot-make-file-0x5bfile0x5d-writeable0x3a-0x5berrmsg0x5d"></a><b>cannot make file [file] writeable: [errmsg]</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 attempted to force the permissions of a file to ensure it
could be deleted, but failed to do so. It will, however, still attempt
to unlink the file.</p>
</li>
<li><a name="cannot-unlink-file-0x5bfile0x5d0x3a-0x5berrmsg0x5d"></a><b>cannot unlink file [file]: [errmsg]</b>
<p><code class="inline"><span class="w">rmtree</span></code>
 failed to remove a file. Probably a permissions issue.</p>
</li>
<li><a name="cannot-restore-permissions-of-0x5bfile0x5d-to-0x5b0nnn0x5d0x3a-0x5berrmsg0x5d"></a><b>cannot restore permissions of [file] to [0nnn]: [errmsg]</b>
<p>After having failed to remove a file, <code class="inline"><span class="w">rmtree</span></code>
 was also unable
to restore the permissions on the file to a possibly less permissive
setting. (Permissions given in octal).</p>
</li>
</ul>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<ul>
<li>
<p><a href="http://search.cpan.org/perldoc/File::Remove">File::Remove</a></p>
<p>Allows files and directories to be moved to the Trashcan/Recycle
Bin (where they may later be restored if necessary) if the operating
system supports such functionality. This feature may one day be
made available directly in <code class="inline"><span class="w">File::Path</span></code>
.</p>
</li>
<li>
<p><a href="http://search.cpan.org/perldoc/File::Find::Rule">File::Find::Rule</a></p>
<p>When removing directory trees, if you want to examine each file to
decide whether to delete it (and possibly leaving large swathes
alone), <i>File::Find::Rule</i> offers a convenient and flexible approach
to examining directory trees.</p>
</li>
</ul>
<a name="BUGS"></a><h1>BUGS</h1>
<p>Please report all bugs on the RT queue:</p>
<p><a href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=File-Path">http://rt.cpan.org/NoAuth/Bugs.html?Dist=File-Path</a></p>
<a name="ACKNOWLEDGEMENTS"></a><h1>ACKNOWLEDGEMENTS</h1>
<p>Paul Szabo identified the race condition originally, and Brendan
O'Dea wrote an implementation for Debian that addressed the problem.
That code was used as a basis for the current code. Their efforts
are greatly appreciated.</p>
<a name="AUTHORS"></a><h1>AUTHORS</h1>
<p>Tim Bunce &lt;<i>Tim.Bunce@ig.co.uk</i>&gt; and Charles Bailey
&lt;<i>bailey@newman.upenn.edu</i>&gt;. Currently maintained by David Landgren
&lt;<i>david@landgren.net</i>&gt;.</p>
<a name="COPYRIGHT"></a><h1>COPYRIGHT</h1>
<p>This module is copyright (C) Charles Bailey, Tim Bunce and
David Landgren 1995-2007.  All rights reserved.</p>
<a name="LICENSE"></a><h1>LICENSE</h1>
<p>This library is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.</p>
</div>
      <div id="contentFooter"><a href="http://www.perl.org"><img src="../perlpowered.png" border=0></a></div>
    </div>
  </div>

  <div id="right">
    <div id="rightContent">
      <div id="leftClose">
        <a href="#" onClick="closeRight()" title="Hide toolbar" onmouseover="rightCloseIcon.src='../close_purple.gif';" onmouseout="rightCloseIcon.src='../close_blue.gif';"><img src="../close_blue.gif" name="rightCloseIcon" id="rightCloseIcon" border=0></a>
      </div>
      <h1>Search:</h1>
      <p>
        <form action="../search.html" name="perldoc_search">
	  <input type="text" name="q" size="10" class="grey"><br>
	  <!--<select name="r"><option value="1" selected>Go to top result<option value="0">Show results list</select>-->
	</form>
      </p>
      <script language="JavaScript" type="text/javascript" src="/perl-version.js"></script>
      <h2>Labels:</h2>
      <p>
        <a href="#" onClick="addLabel('File::Path','File/Path.html')">Add this page</a>
      </p>
      <div class="labels" id="labels">
      </div>
    </div>
  </div>

</div>


</body>
</html>
