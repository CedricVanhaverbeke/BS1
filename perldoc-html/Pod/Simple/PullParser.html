<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>Pod::Simple::PullParser - perldoc.perl.org</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Language" content="en-gb" />
  <link href="../../css.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen" />
  <link rel="search" type="application/opensearchdescription+xml" title="Perldoc" href="../../opensearch.html">
</head>

<script language="JavaScript" type="text/javascript" src="../../label.js"></script>

<script language="JavaScript">
  pageDepth = 2;
  setPath();
</script>

<body onLoad="showToolbars();loadLabels()">

<div id="pageHeader">
  <div id="pageHeaderLogo">
    <img src="../../onion.gif">
  </div>
  <div id="pageHeaderText">
    <a href="http://perldoc.perl.org">perldoc.perl.org</a>
  </div>
</div>

<div id="pageBody">
  <div id="left">
    <div id="leftContent">
      <div id="leftClose">
        <a href="#" onClick="closeLeft()" title="Hide navigation" onmouseover="leftCloseIcon.src='../../close_purple.gif';" onmouseout="leftCloseIcon.src='../../close_blue.gif';"><img src="../../close_blue.gif" name="leftCloseIcon" id="leftCloseIcon" border=0></a>
      </div>
      <h1>Manual:</h1>
      <ul>
        <li><a href="../../index-overview.html">Overview</a></li>
        <li><a href="../../index-tutorials.html">Tutorials</a></li>
        <li><a href="../../index-faq.html">FAQs</a></li>
        <li><a href="../../index-history.html">History / Changes</a></li>
        <li><a href="../../index-licence.html">Licence</a></li>
      </ul>
      <h2>Reference:</h2>
      <ul>
        <li><a href="../../index-language.html">Language</a></li>
        <li><a href="../../index-functions.html">Functions</a></li>
        <li><a href="../../perlop.html">Operators</a></li>
        <li><a href="../../perlvar.html">Special variables</a></li>
        <li><a href="../../index-pragmas.html">Pragmas</a></li>
        <li><a href="../../index-modules-A.html">Core modules</a></li>
        <li><a href="../../index-utilities.html">Utilities</a></li>
        <li><a href="../../index-internals.html">Internals</a></li>
        <li><a href="../../index-platforms.html">Platform specific</a></li>
      </ul>
    </div>
  </div>

  <div id="center">  
    <div id="centerContent">
      <div id="contentHeader">
        <div id="contentHeaderLeft"><a href="#" onClick="showLeft()">Show navigation</a></div>
        <div id="contentHeaderCentre">-- Perl 5.10.0 documentation --</div>
        <div id="contentHeaderRight"><a href="#" onClick="showRight()">Show toolbar</a></div>
      </div>
      <div id="breadCrumbs"><a href="../../index.html">Home</a> &gt; <a href="../../index-modules-A.html">Core modules</a> &gt; <a href="../../index-modules-P.html">P</a> &gt; Pod::Simple::PullParser</div>
      <script language="JavaScript">fromSearch();</script>
      <div id="contentBody"><div class="title_container"><div class="page_title">Pod::Simple::PullParser</div><ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#METHODS">METHODS</a><li><a href="#NOTE">NOTE</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#COPYRIGHT-AND-DISCLAIMERS">COPYRIGHT AND DISCLAIMERS</a><li><a href="#AUTHOR">AUTHOR</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>Pod::Simple::PullParser -- a pull-parser interface to parsing Pod</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"> <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$parser</span> = <span class="w">SomePodProcessor</span><span class="w">-&gt;new</span><span class="sc">;</span>
 <span class="i">$parser</span><span class="i">-&gt;set_source</span><span class="s">(</span> <span class="q">&quot;whatever.pod&quot;</span> <span class="s">)</span><span class="sc">;</span>
 <span class="i">$parser</span><span class="i">-&gt;run</span><span class="sc">;</span></pre>
<p>Or:</p>
<pre class="verbatim"> <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$parser</span> = <span class="w">SomePodProcessor</span><span class="w">-&gt;new</span><span class="sc">;</span>
 <span class="i">$parser</span><span class="i">-&gt;set_source</span><span class="s">(</span> <span class="i">$some_filehandle_object</span> <span class="s">)</span><span class="sc">;</span>
 <span class="i">$parser</span><span class="i">-&gt;run</span><span class="sc">;</span></pre>
<p>Or:</p>
<pre class="verbatim"> <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$parser</span> = <span class="w">SomePodProcessor</span><span class="w">-&gt;new</span><span class="sc">;</span>
 <span class="i">$parser</span><span class="i">-&gt;set_source</span><span class="s">(</span> \<span class="i">$document_source</span> <span class="s">)</span><span class="sc">;</span>
 <span class="i">$parser</span><span class="i">-&gt;run</span><span class="sc">;</span></pre>
<p>Or:</p>
<pre class="verbatim"> <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$parser</span> = <span class="w">SomePodProcessor</span><span class="w">-&gt;new</span><span class="sc">;</span>
 <span class="i">$parser</span><span class="i">-&gt;set_source</span><span class="s">(</span> \<span class="i">@document_lines</span> <span class="s">)</span><span class="sc">;</span>
 <span class="i">$parser</span><span class="i">-&gt;run</span><span class="sc">;</span></pre>
<p>And elsewhere:</p>
<pre class="verbatim"> <a class="l_k" href="../../functions/require.html">require</a> <span class="n">5</span><span class="sc">;</span>
<a name="package-SomePodProcessor"></a> package <span class="i">SomePodProcessor</span><span class="sc">;</span>
 <a class="l_k" href="../../functions/use.html">use</a> <span class="w">strict</span><span class="sc">;</span>
 <a class="l_k" href="../../functions/use.html">use</a> <span class="w">base</span> <span class="q">qw(Pod::Simple::PullParser)</span><span class="sc">;</span></pre>
<pre class="verbatim"><a name="run"></a> sub <span class="m">run</span> <span class="s">{</span>
   <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$self</span> = <a class="l_k" href="../../functions/shift.html">shift</a><span class="sc">;</span>
  <span class="j">Token:</span>
   while<span class="s">(</span><a class="l_k" href="../../functions/my.html">my</a> <span class="i">$token</span> = <span class="i">$self</span><span class="i">-&gt;get_token</span><span class="s">)</span> <span class="s">{</span>
     ...<span class="w">process</span> <a class="l_k" href="../../functions/each.html">each</a> <span class="w">token</span>...
   <span class="s">}</span>
 <span class="s">}</span></pre>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>This class is for using Pod::Simple to build a Pod processor -- but
one that uses an interface based on a stream of token objects,
instead of based on events.</p>
<p>This is a subclass of <a href="../../Pod/Simple.html">Pod::Simple</a> and inherits all its methods.</p>
<p>A subclass of Pod::Simple::PullParser should define a <code class="inline"><span class="w">run</span></code>
 method
that calls <code class="inline"><span class="i">$token</span> = <span class="i">$parser</span><span class="i">-&gt;get_token</span></code>
 to pull tokens.</p>
<p>See the source for Pod::Simple::RTF for an example of a formatter
that uses Pod::Simple::PullParser.</p>
<a name="METHODS"></a><h1>METHODS</h1>
<ul>
<li><a name="my-0x24token-0x3d-0x24parser-0x3eget_token"></a><b>my $token = $parser-&gt;get_token</b>
<p>This returns the next token object (which will be of a subclass of
<a href="../../Pod/Simple/PullParserToken.html">Pod::Simple::PullParserToken</a>), or undef if the parser-stream has hit
the end of the document.</p>
</li>
<li><a name="0x24parser-0x3eunget_token(-0x24token-)"></a><b>$parser-&gt;unget_token( $token )</b>
</li>
<li><a name="0x24parser-0x3eunget_token(-0x24token10x2c-0x24token20x2c-...-)"></a><b>$parser-&gt;unget_token( $token1, $token2, ... )</b>
<p>This restores the token object(s) to the front of the parser stream.</p>
</li>
</ul>
<p>The source has to be set before you can parse anything.  The lowest-level
way is to call <code class="inline"><span class="w">set_source</span></code>
:</p>
<ul>
<li><a name="0x24parser-0x3eset_source(-0x24filename-)"></a><b>$parser-&gt;set_source( $filename )</b>
</li>
<li><a name="0x24parser-0x3eset_source(-0x24filehandle_object-)"></a><b>$parser-&gt;set_source( $filehandle_object )</b>
</li>
<li><a name="0x24parser-0x3eset_source(-0x5c0x24document_source-)"></a><b>$parser-&gt;set_source( \$document_source )</b>
</li>
<li><a name="0x24parser-0x3eset_source(-0x5c0x40document_lines-)"></a><b>$parser-&gt;set_source( \@document_lines )</b>
</li>
</ul>
<p>Or you can call these methods, which Pod::Simple::PullParser has defined
to work just like Pod::Simple's same-named methods:</p>
<ul>
<li><a name="0x24parser-0x3eparse_file(...)"></a><b>$parser-&gt;parse_file(...)</b>
</li>
<li><a name="0x24parser-0x3eparse_string_document(...)"></a><b>$parser-&gt;parse_string_document(...)</b>
</li>
<li><a name="0x24parser-0x3efilter(...)"></a><b>$parser-&gt;filter(...)</b>
</li>
<li><a name="0x24parser-0x3eparse_from_file(...)"></a><b>$parser-&gt;parse_from_file(...)</b>
</li>
</ul>
<p>For those to work, the Pod-processing subclass of
Pod::Simple::PullParser has to have defined a $parser-&gt;run method --
so it is advised that all Pod::Simple::PullParser subclasses do so.
See the Synopsis above, or the source for Pod::Simple::RTF.</p>
<p>Authors of formatter subclasses might find these methods useful to
call on a parser object that you haven't started pulling tokens
from yet:</p>
<ul>
<li><a name="my-0x24title_string-0x3d-0x24parser-0x3eget_title"></a><b>my $title_string = $parser-&gt;get_title</b>
<p>This tries to get the title string out of $parser, by getting some tokens,
and scanning them for the title, and then ungetting them so that you can
process the token-stream from the beginning.</p>
<p>For example, suppose you have a document that starts out:</p>
<pre class="verbatim">  =<span class="w">head1</span> <span class="w">NAME</span></pre>
<pre class="verbatim">  Hoo::Boy::Wowza -- Stuff B&lt;wow&gt; yeah!</pre><p>$parser-&gt;get_title on that document will return "Hoo::Boy::Wowza --
Stuff wow yeah!".</p>
<p>In cases where get_title can't find the title, it will return empty-string
("").</p>
</li>
<li><a name="my-0x24title_string-0x3d-0x24parser-0x3eget_short_title"></a><b>my $title_string = $parser-&gt;get_short_title</b>
<p>This is just like get_title, except that it returns just the modulename, if
the title seems to be of the form "SomeModuleName -- description".</p>
<p>For example, suppose you have a document that starts out:</p>
<pre class="verbatim">  =<span class="w">head1</span> <span class="w">NAME</span></pre>
<pre class="verbatim">  Hoo::Boy::Wowza -- Stuff B&lt;wow&gt; yeah!</pre><p>then $parser-&gt;get_short_title on that document will return
"Hoo::Boy::Wowza".</p>
<p>But if the document starts out:</p>
<pre class="verbatim">  =<span class="w">head1</span> <span class="w">NAME</span></pre>
<pre class="verbatim">  Hooboy, stuff B&lt;wow&gt; yeah!</pre><p>then $parser-&gt;get_short_title on that document will return "Hooboy,
stuff wow yeah!".</p>
<p>If the title can't be found, then get_short_title returns empty-string
("").</p>
</li>
<li><a name="0x24author_name---0x3d-0x24parser-0x3eget_author"></a><b>$author_name   = $parser-&gt;get_author</b>
<p>This works like get_title except that it returns the contents of the
"=head1 AUTHOR\n\nParagraph...\n" section, assuming that that section
isn't terribly long.</p>
<p>(This method tolerates "AUTHORS" instead of "AUTHOR" too.)</p>
</li>
<li><a name="0x24description_name-0x3d-0x24parser-0x3eget_description"></a><b>$description_name = $parser-&gt;get_description</b>
<p>This works like get_title except that it returns the contents of the
"=head1 PARAGRAPH\n\nParagraph...\n" section, assuming that that section
isn't terribly long.</p>
</li>
<li><a name="0x24version_block-0x3d-0x24parser-0x3eget_version"></a><b>$version_block = $parser-&gt;get_version</b>
<p>This works like get_title except that it returns the contents of
the "=head1 VERSION\n\n[BIG BLOCK]\n" block.  Note that this does NOT
return the module's <code class="inline"><span class="i">$VERSION</span></code>
!!</p>
</li>
</ul>
<a name="NOTE"></a><h1>NOTE</h1>
<p>You don't actually <i>have</i> to define a <code class="inline"><span class="w">run</span></code>
 method.  If you're
writing a Pod-formatter class, you should define a <code class="inline"><span class="w">run</span></code>
 just so
that users can call <code class="inline"><span class="w">parse_file</span></code>
 etc, but you don't <i>have</i> to.</p>
<p>And if you're not writing a formatter class, but are instead just
writing a program that does something simple with a Pod::PullParser
object (and not an object of a subclass), then there's no reason to
bother subclassing to add a <code class="inline"><span class="w">run</span></code>
 method.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p><a href="../../Pod/Simple.html">Pod::Simple</a></p>
<p><a href="../../Pod/Simple/PullParserToken.html">Pod::Simple::PullParserToken</a> -- and its subclasses
<a href="../../Pod/Simple/PullParserStartToken.html">Pod::Simple::PullParserStartToken</a>,
<a href="../../Pod/Simple/PullParserTextToken.html">Pod::Simple::PullParserTextToken</a>, and
<a href="../../Pod/Simple/PullParserEndToken.html">Pod::Simple::PullParserEndToken</a>.</p>
<p><a href="http://search.cpan.org/perldoc/HTML::TokeParser">HTML::TokeParser</a>, which inspired this.</p>
<a name="COPYRIGHT-AND-DISCLAIMERS"></a><h1>COPYRIGHT AND DISCLAIMERS</h1>
<p>Copyright (c) 2002 Sean M. Burke.  All rights reserved.</p>
<p>This library is free software; you can redistribute it and/or modify it
under the same terms as Perl itself.</p>
<p>This program is distributed in the hope that it will be useful, but
without any warranty; without even the implied warranty of
merchantability or fitness for a particular purpose.</p>
<a name="AUTHOR"></a><h1>AUTHOR</h1>
<p>Sean M. Burke <code class="inline"><span class="w">sburke</span><span class="i">@cpan</span>.<span class="w">org</span></code>
</p>
</div>
      <div id="contentFooter"><a href="http://www.perl.org"><img src="../../perlpowered.png" border=0></a></div>
    </div>
  </div>

  <div id="right">
    <div id="rightContent">
      <div id="leftClose">
        <a href="#" onClick="closeRight()" title="Hide toolbar" onmouseover="rightCloseIcon.src='../../close_purple.gif';" onmouseout="rightCloseIcon.src='../../close_blue.gif';"><img src="../../close_blue.gif" name="rightCloseIcon" id="rightCloseIcon" border=0></a>
      </div>
      <h1>Search:</h1>
      <p>
        <form action="../../search.html" name="perldoc_search">
	  <input type="text" name="q" size="10" class="grey"><br>
	  <!--<select name="r"><option value="1" selected>Go to top result<option value="0">Show results list</select>-->
	</form>
      </p>
      <script language="JavaScript" type="text/javascript" src="/perl-version.js"></script>
      <h2>Labels:</h2>
      <p>
        <a href="#" onClick="addLabel('Pod::Simple::PullParser','Pod/Simple/PullParser.html')">Add this page</a>
      </p>
      <div class="labels" id="labels">
      </div>
    </div>
  </div>

</div>


</body>
</html>
